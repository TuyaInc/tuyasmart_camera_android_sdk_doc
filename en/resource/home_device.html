
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Home and Device · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="home_device.html" />
    
    
    <link rel="prev" href="User.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="ProgramArchitecure.html">
            
                <a href="ProgramArchitecure.html">
            
                    
                    SDK Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="home_device.html">
            
                <a href="home_device.html#Home & Equipment">
            
                    
                    Home and Device
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="home_device.html">
            
                <a href="home_device.html#Home management">
            
                    
                    Home Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="home_device.html">
            
                <a href="home_device.html#Device management">
            
                    
                    Device Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="home_device.html">
            
                <a href="home_device.html#Camera device">
            
                    
                    Camera Device
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="wifi_config.html">
            
                <a href="wifi_config.html">
            
                    
                    Device Configutation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="LiveProcess.html">
            
                <a href="LiveProcess.html">
            
                    
                    Camera Functions
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="LiveProcess.html">
            
                <a href="LiveProcess.html#Live video">
            
                    
                    Live Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="PlaybackProcess.html">
            
                <a href="PlaybackProcess.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="av_function.html">
            
                <a href="av_function.html">
            
                    
                    AV Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="cloud_video.html">
            
                <a href="cloud_video.html">
            
                    
                    Cloud Storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="cloud_video.html">
            
                <a href="cloud_video.html#Process">
            
                    
                    Flow Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="cloud_video.html">
            
                <a href="cloud_video.html#Purchase">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="cloud_video.html">
            
                <a href="cloud_video.html#Cloud video">
            
                    
                    Cloud Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="camera_device_points.html">
            
                <a href="camera_device_points.html#Device function points">
            
                    
                    Extension Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="camera_device_points.html">
            
                <a href="camera_device_points.html#Function points constant">
            
                    
                    Data Point Id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="doorbell.html">
            
                <a href="doorbell.html">
            
                    
                    Doorbell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="sd_card.html">
            
                <a href="sd_card.html">
            
                    
                    Memory Card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="ptz.html">
            
                <a href="ptz.html">
            
                    
                    PTZ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Camera_Message_Center.html">
            
                <a href="Camera_Message_Center.html#Detection alarm">
            
                    
                    Detection Alarm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Camera_Message_Center.html">
            
                <a href="Camera_Message_Center.html#Message List">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Camera_Message_Center.html">
            
                <a href="Camera_Message_Center.html#Video message">
            
                    
                    Video Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="statusCode.html">
            
                <a href="statusCode.html">
            
                    
                    Error Codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="doc_update_log.html">
            
                <a href="doc_update_log.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Home and Device</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#home-and-device"><b>1. </b>Home and device</a></li><ul><li><span class="title-icon "></span><a href="#home-management"><b>1.1. </b>Home management</a></li><li><span class="title-icon "></span><a href="#device-management"><b>1.2. </b>Device management</a></li><li><span class="title-icon "></span><a href="#camera-device"><b>1.3. </b>Camera device</a></li><ul><li><span class="title-icon "></span><a href="#determine-if-it-is-a-smart-camera"><b>1.3.1. </b>Determine if it is a smart camera</a></li><li><span class="title-icon "></span><a href="#camera-configuration-information"><b>1.3.2. </b>Camera configuration information</a></li><li><span class="title-icon "></span><a href="#p2p-type"><b>1.3.3. </b>P2p type</a></li></ul></ul></ul></div><h1 id="home-and-device"><a name="home-and-device" class="anchor-navigation-ex-anchor" href="#home-and-device"><i class="fa fa-link" aria-hidden="true"></i></a>1. Home and device</h1>
<h2 id="home-management"><a name="home-management" class="anchor-navigation-ex-anchor" href="#home-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Home management</h2>
<p>After the user login in successfully, he needs to get the information of the entire family list through <code>TuyaHomeSdk.getHomeManagerInstance()</code>, and then initialize one of the families,<code>ITuyaHomeManager</code>, to get the details of the family, and manage and control the devices in the family. Refer to the document <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/HomeManager.html" target="_blank">Family Management</a>.</p>
<h2 id="device-management"><a name="device-management" class="anchor-navigation-ex-anchor" href="#device-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Device management</h2>
<p>Tuya Smart provides rich interfaces for developers to achieve device information acquisition and management capabilities (removal, etc.). The device-related return data is notified to the recipient using an asynchronous message. Refer to the document <a href="https://tuyainc.github.io/tuyasmart_home_android_sdk_doc/en/resource/Device.html" target="_blank">Equipment Management</a>.</p>
<p><strong>Precautions</strong></p>
<ul>
<li>Device control must first initialize the data, that is, <code>TuyaHomeSdk.newHomeInstance(homeId).getHomeDetail(ITuyaHomeResultCallback callback)</code></li>
<li>If device control needs to use the latitude and longitude, you need to call <code>TuyaSdk.setLatAndLong</code>before re-networking, where lon and lat are used to indicate latitude and longitude information.</li>
</ul>
<h2 id="camera-device"><a name="camera-device" class="anchor-navigation-ex-anchor" href="#camera-device"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Camera device</h2>
<p>After obtaining the device list, you can determine whether it is a smart camera device according to the type of device. If it is a smart camera device, you can create a camera object based on the information in DeviceBean.</p>
<h3 id="determine-if-it-is-a-smart-camera"><a name="determine-if-it-is-a-smart-camera" class="anchor-navigation-ex-anchor" href="#determine-if-it-is-a-smart-camera"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Determine if it is a smart camera</h3>
<p>The type of device can be judged according to the category property of DeviceBean, and the type of smart camera is <code>sp</code>.</p>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-java"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">gotoDeviceCommonActivity</span><span class="token punctuation">(</span><span class="token class-name">DeviceBean</span> devBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;sp&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>devBean<span class="token punctuation">.</span><span class="token function">getProductBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCategory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//is smart camera</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="camera-configuration-information"><a name="camera-configuration-information" class="anchor-navigation-ex-anchor" href="#camera-configuration-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Camera configuration information</h3>
<p>After filtering out the smart camera devices, you can obtain the camera configuration information based on the device id, which is the <code>devId</code> attribute of DeviceBean. See <a href="LiveProcess.html">Get Device Information</a> for details.</p>
<h3 id="p2p-type"><a name="p2p-type" class="anchor-navigation-ex-anchor" href="#p2p-type"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.3. P2p type</h3>
<p>The Tuya smart camera supports three p2p channel implementation solutions. The Camera SDK will initialize different camera objects according to the p2p type. Obtain the p2p type of the device as follows:</p>
<pre class="language-"><code class="lang-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> deviceBean<span class="token punctuation">.</span><span class="token function">getSkills</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> p2pType <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>map <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p2pType <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    p2pType <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;p2pType&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="User.html" class="navigation navigation-prev " aria-label="Previous page: User Management">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="home_device.html#Home management" class="navigation navigation-next " aria-label="Next page: Home Management">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Home and Device","level":"1.5","depth":1,"next":{"title":"Home Management","level":"1.5.1","depth":2,"anchor":"#Home management","path":"resource/home_device.md","ref":"./resource/home_device.md#Home management","articles":[]},"previous":{"title":"User Management","level":"1.4","depth":1,"path":"resource/User.md","ref":"./resource/User.md","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","anchor-navigation-ex","ga","expandable-chapters-small","pageview-count","language-picker","hide-element","flexible-alerts"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_camera_android_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":{"zh-hans":"注意","en":"Attention"}},"note":{"className":"info","icon":"fa fa-info-circle","label":{"zh-hans":"提示","en":"Note"}},"style":"flat","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":{"zh-hans":"Tips","en":"Tip"}},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":{"zh-hans":"警告","en":"Warning"}}},"ga":{"configuration":"auto","token":"UA-165828612-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/home_device.md","mtime":"2020-09-01T20:48:44.581Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-01T20:49:36.361Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

